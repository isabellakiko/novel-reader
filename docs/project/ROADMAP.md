# 开发路线图

> Novel Reader 开发阶段规划

**最后更新**: 2025-12-02

---

## 整体规划

```
Phase 1: 基础搭建          ████████░░  80%
Phase 2: 核心功能          ░░░░░░░░░░   0%
Phase 3: 阅读体验          ░░░░░░░░░░   0%
Phase 4: 搜索功能          ░░░░░░░░░░   0%
Phase 5: 优化完善          ░░░░░░░░░░   0%
```

---

## Phase 1: 基础搭建 🚧

### Step 1: Monorepo 结构 ✅
- [x] 创建目录结构
- [x] 配置 pnpm workspace
- [x] 创建 packages/core 和 packages/shared

### Step 2: Vite + React + 依赖 ✅
- [x] 初始化 Vite + React 项目
- [x] 安装所有依赖（Tailwind、Radix UI、Framer Motion 等）
- [x] 配置 Tailwind CSS
- [x] 配置路径别名

### Step 2.5: AI 协作系统 ✅
- [x] 建立 4 层文档架构
- [x] 配置 6 个 Slash Commands
- [x] 创建项目上下文文档

---

## Phase 2: 核心功能

### Step 3: 核心解析模块
- [ ] 编码检测（encoding.js）
- [ ] TXT 解析器（txt-parser.js）
- [ ] 章节识别（chapter-detector.js）
- [ ] 统一数据结构（types/book.js）

**产出**: 可解析 TXT 文件并识别章节

### Step 4: 基础布局 + 主题系统
- [ ] 整体布局框架（TopBar、Sidebar、MainContent）
- [ ] 路由配置（React Router）
- [ ] 主题系统（白天/夜间/护眼）
- [ ] 基础 UI 组件（Button、Modal、Slider）

**产出**: 完整的应用骨架和主题切换

---

## Phase 3: 阅读体验

### Step 5: 书架页面
- [ ] 书籍卡片组件
- [ ] 文件上传（拖拽 + 点击）
- [ ] IndexedDB 存储（Dexie）
- [ ] 书籍管理（删除、重新导入）

**产出**: 可导入和管理书籍

### Step 6: 阅读器页面
- [ ] 文本渲染（虚拟滚动）
- [ ] 章节导航
- [ ] 字体设置面板
- [ ] 进度管理

**产出**: 完整的阅读体验

---

## Phase 4: 搜索功能

### Step 7: 全局搜索
- [ ] 搜索 Worker
- [ ] 搜索 UI
- [ ] 结果按章节分组
- [ ] 高亮跳转
- [ ] 搜索历史

**产出**: 强大的全局搜索功能

---

## Phase 5: 优化完善

### Step 8: 性能优化
- [ ] 大文件分片加载
- [ ] 搜索性能优化
- [ ] 构建产物优化

### Step 9: 功能完善
- [ ] 书签功能
- [ ] EPUB 支持（可选）
- [ ] PDF 支持（可选）

### Step 10: 体验打磨
- [ ] 动画细节
- [ ] 错误处理
- [ ] 空状态设计

---

## 里程碑

| 里程碑 | 目标 | 状态 |
|--------|------|------|
| M1 | 可运行的开发环境 | ✅ 完成 |
| M2 | 可解析 TXT 文件 | 待开始 |
| M3 | 可阅读小说 | 待开始 |
| M4 | 可搜索内容 | 待开始 |
| M5 | 1.0 版本发布 | 待开始 |

---

## 当前焦点

**正在进行**: Phase 1 Step 2.5（AI 协作系统）

**下一步**: Step 3（核心解析模块）
- 编码检测
- TXT 解析
- 章节识别
