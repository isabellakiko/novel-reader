# 文档全面审计与优化

> 通用 Prompt - 每次大更新后执行，确保文档与代码同步

---

## 任务目标

对项目进行全面探索，评估并优化文档结构，确保：
1. 文档与代码实际状态一致
2. 消除过时和重复内容
3. 优化 AI 上下文恢复效率

---

## 执行步骤

### Step 1: 项目探索

请全面探索项目，包括但不限于：

**代码层面**：
- 目录结构和模块划分
- 主要组件/页面/服务
- 配置文件（package.json, vite.config, application.yml 等）
- 数据库 Schema / Store 结构

**文档层面**：
- 所有 .md 文件
- Slash Commands 配置
- AI 上下文文件

---

### Step 2: 对比分析

分析以下问题：

1. **过时内容**
   - 哪些文档描述与代码实际不符？
   - 哪些"待完成"功能已经完成？
   - 哪些"非目标"功能已经实现？

2. **重复内容**
   - 哪些信息在多个文档中重复出现？
   - 哪些表格/列表可以合并或引用？

3. **缺失内容**
   - 有哪些新增的模块/功能没有文档？
   - Slash Commands 是否需要更新？

4. **结构问题**
   - 文档层级是否合理？
   - AI 上下文文件是否过于庞大？

---

### Step 3: 输出报告

请输出分析报告，格式如下：

```markdown
## 文档审计报告

### 发现的问题

#### 过时内容
| 文件 | 问题描述 | 建议修改 |
|------|----------|----------|
| ... | ... | ... |

#### 重复内容
| 内容 | 出现位置 | 建议处理 |
|------|----------|----------|
| ... | ... | ... |

#### 缺失内容
| 模块/功能 | 建议添加位置 |
|-----------|--------------|
| ... | ... |

### 建议优化

1. [优先级高] ...
2. [优先级中] ...
3. [优先级低] ...
```

---

### Step 4: 执行优化

在我确认后，执行以下优化：

1. **更新过时文档** - 修正与代码不符的描述
2. **精简重复内容** - 保留单一来源，其他位置用链接引用
3. **补充缺失文档** - 为新功能添加必要文档
4. **优化 Slash Commands** - 确保 /start 等命令高效

---

### Step 5: 提交变更

将所有文档变更提交为一个 commit：

```
docs: 文档审计优化 - [简要描述主要变更]
```

---

## 注意事项

- 不要过度精简，保留必要的上下文信息
- 保持文档的可读性和完整性
- 优先修正过时内容，其次处理重复
- 每个文件更新 `最后更新` 日期

---

## 适用场景

- 完成一个 Phase/大版本后
- 添加新模块后
- 重构代码结构后
- 感觉文档与代码脱节时
